$(document).ready(function () { function e() { $(".default-input.phone").length > 0 && $(".default-input.phone").inputmask({ showMaskOnHover: !1, mask: "+1 (999)-999-9999" }) } function t() { $("html:not(.android) .default-input.text").length > 0 && $(".default-input.text").inputmask({ showMaskOnHover: !1, regex: "[a-zA-Zа-яА-Я]*", showMaskOnHover: !1 }) } function n() { for (var e = $(".footer-bigtext").width(), t = 0, n = $(".footer-bigtext > span").width(); e > n;)t += .05, $(".footer-bigtext > span").css({ "font-size": t + "vw" }), n = $(".footer-bigtext > span").width() } var a = $(document).width(); AOS.init({}); var s, i = function (e) { if ("open" == e && setTimeout(function () { if (!document.body.hasAttribute("data-body-scroll-fix")) { var e = window.pageYOffset || document.documentElement.scrollTop; document.body.setAttribute("data-body-scroll-fix", e), document.body.style.overflow = "hidden", document.body.style.position = "fixed", document.body.style.top = "-" + e + "px", document.body.style.left = "0", document.body.style.right = "0" } }, 10), "close" == e && document.body.hasAttribute("data-body-scroll-fix")) { var t = document.body.getAttribute("data-body-scroll-fix"); document.body.removeAttribute("data-body-scroll-fix"), document.body.style.overflow = "", document.body.style.position = "", document.body.style.top = "", document.body.style.left = "", document.body.style.right = "", window.scroll(0, t) } }, o = function (e) { s = new Swiper(e, { slidesPerView: 1, spaceBetween: 0, speed: 1500, grabCursor: !0, setWrapperSize: !0, watchSlidesVisibility: !0, watchSlidesProgress: !0, touchReleaseOnEdges: !0, disableOnInteraction: !1, autoplay: { delay: 5e3 }, navigation: { nextEl: ".slider-arrow-next", prevEl: ".slider-arrow-prev", disabledClass: "disabled" } }) }; if ($(".top-slider-container").length > 0 && o($(".top-slider-container")), $(".top-slider-pagination").length > 0) { $(".pagination-number:not(.all)").text("0" + (s.activeIndex + 1)), $(".top-slider-container .top-slider-slide").length < 10 ? $(".pagination-number.all").text("0" + $(".top-slider-container .top-slider-slide").length) : $(".pagination-number.all").text($(".top-slider-container .top-slider-slide").length); var l = parseInt($(".pagination-bar").innerHeight()) / $(".top-slider-container .top-slider-slide").length; $(".pagination-bar > span").css("height", l + "px") } s.on("transitionStart", function () { $(".top-bg .top-bg_item.active").removeClass("active").hide(), $(".top-bg .top-bg_item").eq(s.activeIndex).fadeIn(700).addClass("active"); var e = parseFloat($(".pagination-bar > span").innerHeight()); s.activeIndex > s.previousIndex && 0 != s.activeIndex ? $(".pagination-bar > span").css({ height: e + l + "px" }) : s.activeIndex < s.previousIndex && 0 != s.activeIndex ? $(".pagination-bar > span").css({ height: e - l + "px" }) : 0 == s.activeIndex && $(".pagination-bar > span").css({ height: l }), s.activeIndex < 9 ? $(".pagination-number:not(.all)").text("0" + (s.activeIndex + 1)) : $(".pagination-number:not(.all)").text(s.activeIndex + 1) }), 1200 > a && (setTimeout(function () { $("header").css({ transform: "none" }) }, 800), $(".header-menu").insertAfter($(".adaptive-menu")), $("body").on("click", ".adaptive-menu", function (e) { $(this).hasClass("open") ? ($(this).removeClass("open").next().fadeOut(400), i("close")) : ($(this).addClass("open").next().fadeIn(400).css({ display: "flex" }), i("open")) }), $("body").on("click", ".header-menu_link, .social-item", function (e) { $(this).parents(".header-adaptive-menu").find(".open").length > 0 && ($(this).parent(".header-menu").fadeOut().prev(".open").removeClass("open"), $(this).parents(".header-adaptive-menu").find(".header-menu").fadeOut().prev(".open").removeClass("open"), i("close")) })), 768 > a && $(".top-socials").appendTo(".header-menu"), $("body").on("click", ".tabs-switcher:not(.active)", function (e) { $(this).addClass("active").siblings(".tabs-switcher.active").removeClass("active"); var t = $(".tabs-switcher.active").index(); $(this).parents(".tabs-switchers").next(".tabs-contents").find(".tabs-content.active").addClass("slide-out").fadeOut(300); var n = $(this); setTimeout(function () { n.parents(".tabs-switchers").next(".tabs-contents").find(".tabs-content.active").removeClass("active").removeClass("slide-out"), n.parents(".tabs-switchers").next(".tabs-contents").find(".tabs-content:not(.active)").eq(t).addClass("active").show() }, 290) }), $(window).scrollTop() > 0 && ($("header").hasClass("scroll") || $("header").addClass("scroll")), $(window).scroll(function () { var e = $(window).scrollTop(); e > 0 ? $("header").hasClass("scroll") || $("header").addClass("scroll") : 0 != e || $("body").attr("data-body-scroll-fix") || $("header.scroll").removeClass("scroll").css({ transition: "background-color .5s ease" }) }); var r = $(".lightgallery"); r.lightGallery({ share: !1, thumbnail: !1, fullScreen: !1, zoom: !1, download: !1, counter: !1, controls: !1, enableDrag: !1, enableSwipe: !1, autoplay: !1, progressBar: !1, autoplayControls: !1 }), r.on("onBeforeOpen.lg", function (e) { 1200 > a && $("header").css({ position: "absolute" }), i("open") }), r.on("onBeforeClose.lg", function (e) { 1200 > a && $("header").css({ position: "" }), i("close") }), $("body").on("click", ".lg-object.lg-image", function (e) { r.data("lightGallery").destroy() }), $("body").on("click", ".modal-open", function (e) { var t = $(this).attr("href"); console.log(t), $(t).modal({ fadeDuration: 150, closeClass: "close-custom", closeText: '<span class="visually-hidden">Закрыть</span>' }), 1200 > a && $("header").css({ position: "absolute" }), i("open"), e.preventDefault() }), $(".modal").on("modal:close", function (e, t) { 1200 > a && $("header").css({ position: "" }), i("close") }); var d, c = function (e) { d = new Swiper(e, { slidesPerView: 3, slidesPerGroup: 3, spaceBetween: 30, speed: 2e3, grabCursor: !0, setWrapperSize: !0, watchSlidesVisibility: !0, watchSlidesProgress: !0, touchReleaseOnEdges: !0, disableOnInteraction: !1, autoplay: { delay: 5e3 }, pagination: { el: ".menu-slider-pagination", type: "fraction" }, navigation: { nextEl: ".menu-slider-next", prevEl: ".menu-slider-prev" }, breakpoints: { 767: { slidesPerView: 1, slidesPerGroup: 1, spaceBetween: 20 }, 1199: { slidesPerView: 2, slidesPerGroup: 2, spaceBetween: 30 } } }) }; $(".menu-slider-container").length > 0 && c($(".menu-slider-container")), e(), t(), (1200 > a || 768 > a) && $(".contact-wrapper .contact-form").insertAfter(".contact-map"), $("body").on("click", "a[href^='#']:not([rel]):not(.modal-open):not(.close-modal)", function (e) { var t; t = $("header").hasClass("scroll") ? $(".header").innerHeight() + parseInt($(".header").css("padding-top"), 10) : $(".header").innerHeight(), $("html,body").stop().animate({ scrollTop: $(this.hash).offset().top - t }, 1e3), e.preventDefault() }), $("body").on("submit", ".contact-form", function (e) { var t = $(this).find(".default-input"), n = 0; if (t.each(function (e, t) { "" == $(t).val() && "message" != $(t).attr("name") && ($(t).addClass("invalid"), n += 1), $(t).hasClass("phone") && ($(t).inputmask("isComplete") || $(t).hasClass("invalid") || ($(t).addClass("invalid"), n += 1)) }), n > 0) { var a = "<span class='invalid-text'>Fill in all the fields</span>"; $(this).find(".valid-text").length > 0 && $(this).find(".valid-text").remove(), 0 == $(this).find(".invalid-text").length && $(a).insertBefore($(this).find(".contact-form-submit")) } else { var s = "<span class='valid-text'>Message sent</span>"; $(this).find(".invalid-text").length > 0 && $(this).find(".invalid-text").remove(), 0 == $(this).find(".valid-text").length && $(s).insertBefore($(this).find(".contact-form-submit")) } e.preventDefault() }), $("body").on("change input focus", ".default-input.invalid", function (e) { $(this).removeClass("invalid") }), $(".footer-bigtext > span").length > 0 && a >= 1200 && n() });